"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[93995],{381269:(e,a,t)=>{t.d(a,{G:()=>N});var i=t(28071),r=t(98176),s=t(678540),n=t(744697);let m=JSON.parse('{"id":"81a54caf2d8bafe1c2366ff835f330bc83876fc0e874b8b3b2652c758489ad1d","type":"query","name":"FetchRelatedAssets","source":"query FetchRelatedAssets($where:MediaWhere!,$sameArtistWhere:SearchWhere!,$sameModelWhere:SearchWhere!,$topSimilarCount:Int,$recommendationAnchors:RecommendationAnchors,$recommendationCountry:CountryCode,$recommendationFilters:RecommendationFilters!,$recommendationLimit:UnsignedInt,$recommendationStrategy:StrategyEnum!,$fetchRecommendations:Boolean! = false,$fetchSameArtist:Boolean! = false,$fetchSameModel:Boolean! = false,$fetchSimilarGeneratedImages:Boolean! = false,$fetchSimilarImages:Boolean! = false,$fetchSimilarVideos:Boolean! = false,$similarImagesCollectionType:CollectionTypeEnum! = APPROVED,$similarVideosCollectionType:CollectionTypeEnum! = APPROVED_VIDEO){creativeImages(where:$where){data{...SimilarGeneratedImagesFragment @include(if:$fetchSimilarGeneratedImages)...SimilarImagesFragment @include(if:$fetchSimilarImages)...SimilarVideosFragment @include(if:$fetchSimilarVideos)__typename}__typename}sameArtist:creativeMediaSearch(where:$sameArtistWhere)@include(if:$fetchSameArtist){...SearchResultsFragment __typename}sameModel:creativeMediaSearch(where:$sameModelWhere)@include(if:$fetchSameModel){...SearchResultsFragment __typename}recommendations(anchors:$recommendationAnchors strategy:$recommendationStrategy country:$recommendationCountry limit:$recommendationLimit filters:$recommendationFilters)@include(if:$fetchRecommendations){...RecommendationFragment __typename}}fragment SimilarGeneratedImagesFragment on CreativeImage{similarGeneratedImages:similarImages(top:$topSimilarCount collectionType:GENERATED){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}}}}__typename}fragment SimilarEntityIdFragment on CreativeSimilarImageResult{entities{classicId __typename}__typename}fragment CreativeImageMediaFieldsFragment on CreativeImage{...CreativeImageBasicInfoFragment...CreativeImageBooleanFieldsFragment sellableImageSizes{...CreativeImageSellableSizesFragment __typename}__typename}fragment CreativeImageBasicInfoFragment on CreativeImage{__typename classicId aspect aspectRatio contributorId description thumbnailImageUrlTemplate secureWatermarkImageUrl keywords metadataStatus{mainStatus qualifierStatus __typename}channels contentTier{id __typename}contentTiers}fragment CreativeImageBooleanFieldsFragment on CreativeImage{exclusiveToSstk is3dSpinner isAdult isEditorial isGenerated isIllustration isIpReviewed isVector __typename}fragment CreativeImageSellableSizesFragment on SellableImageSize{...on SellableCreativeImageJpgSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImagePngSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImagePSDSize{__typename name displayName fileSize humanFileSize format dpi height{centimetersLabel inchesLabel pixels __typename}width{centimetersLabel inchesLabel pixels __typename}}...on SellableCreativeImageVectorSize{__typename name displayName fileSize humanFileSize format}__typename}fragment SimilarImagesFragment on CreativeImage{similarImages(top:$topSimilarCount collectionType:$similarImagesCollectionType){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}}}}__typename}fragment SimilarVideosFragment on CreativeImage{similarVideos:similarImages(top:$topSimilarCount collectionType:$similarVideosCollectionType){__typename...SimilarEntityIdFragment entities{__typename media{__typename...on CreativeVideo{...CreativeVideoMediaFieldsFragment __typename}}}}__typename}fragment CreativeVideoMediaFieldsFragment on CreativeVideo{...CreativeVideoBasicInfoFragment...CreativeVideoBooleanFieldsFragment sellableVideoSizes{...CreativeVideoSellableSizesFragment __typename}__typename}fragment CreativeVideoBasicInfoFragment on CreativeVideo{__typename type classicId aspect aspectRatio contributorId description addedDate channels duration previewImageUrl keywords secureWatermarkUrl{mp4 webm __typename}translatedDescriptions{availableTranslatedDescriptions{lang description __typename}description __typename}contentTiers}fragment CreativeVideoBooleanFieldsFragment on CreativeVideo{exclusiveToSstk isAdult isEditorial isIpReviewed __typename}fragment CreativeVideoSellableSizesFragment on SellableCreativeVideoSize{name displayName format videoCodec fileSize humanFileSize fps height{pixels __typename}width{pixels __typename}__typename}fragment SearchResultsFragment on SearchResponse{results{docs{...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}__typename}__typename}__typename}fragment RecommendationFragment on RecommendationResponse{response{results{media{...on CreativeImage{...CreativeImageMediaFieldsFragment __typename}__typename}__typename}tracer __typename}internals{providers{resultsCount __typename}__typename}__typename}"}');var l=t(200291),o=t(489741),d=t(968481),c=t.n(d);let{publicRuntimeConfig:{apiEndpoints:p}}=c()(),u=e=>[i.$E,i.kc,i.vo].includes(e?.imageType),g=e=>!!e?.releases?.length&&[i.$E,i.kc,i.vo].includes(e?.imageType),y=e=>(0,s.Bq)({asset:e}),h=e=>(0,s.Bq)({asset:e})||[i.$E,i.kc,i.vo].includes(e?.imageType),_=e=>(0,s.Bq)({asset:e})||[i.$E,i.kc,i.vo].includes(e?.imageType),f=({asset:e,isMobile:a,isSameArtist:t,isSameModel:i,locale:s,region:n,isFilterByUnlimited:m})=>{let{contributorId:o="",id:d,keywords:c,releases:p}=e||{},u=a?r.Zh:r.SE,g=a?r.Zh:r.d3,y={cache:!0,countryCode:n,language:s,mediaType:l.$9X.Image,rows:t?g:u,safeSearch:{isSafe:!0},sortOrder:l.tii.Popular,start:0,...m&&{classicContentTiers:{anyOf:[l.i2C.UnlimitedV_0_1]}}};return t&&o?{...y,contributors:{ids:{anyOf:[o]}},query:c?.[0]||""}:i&&p?{...y,classicIds:{noneOf:[d]},releases:{classicModelReleaseIds:{anyOf:p.map(String)}}}:y},S=({asset:e,brand:a,experiments:t,headers:i={},isBot:r,isLoggedInUser:s=!1,isMobile:d=!1,locale:c,region:S,searchTerm:v="",subscriptionProduct:I,topSimilarCount:C=10,isFilterByUnlimited:b=!1})=>{let F=(0,n.g2)({asset:e,locale:c,region:S,searchTerm:v,subscriptionProduct:I,isFilterByUnlimited:b}),$=f({asset:e,isMobile:d,isSameArtist:!0,locale:c,region:S,isFilterByUnlimited:b}),U=f({asset:e,isMobile:d,isSameModel:!0,locale:c,region:S,isFilterByUnlimited:b}),V=(0,n.aR)({asset:e,isBot:r,isLoggedInUser:s,isMobile:d,region:S}),w=u(e),T=g(e),E=y(e),A=h(e),R=_(e),k={where:{classicId:e.id},...{fetchRecommendations:V,...F},...{fetchSameArtist:w,sameArtistWhere:$},...{fetchSameModel:T,sameModelWhere:U},...E&&{fetchSimilarGeneratedImages:E,topSimilarCount:C},...A&&{fetchSimilarImages:A,topSimilarCount:C,...b&&{similarImagesCollectionType:l.e9j.UnlimitedImage}},...R&&{fetchSimilarVideos:R,topSimilarCount:C,...b&&{similarVideosCollectionType:l.e9j.UnlimitedVideo}}};return{formattedRequest:{document:m.source,requestHeaders:{...(0,o.C)({brand:a,experiments:t,page:"",isBot:r}),...i},url:`${p.graphGateway}/graphql`,variables:k},query:m.source,variables:k}};var v=t(50432),I=t(985945),C=t(991418),b=t(996786),F=t(889761),$=t(307528),U=t(602320);let V=e=>(e??[]).map(e=>(0,U.u)(e)),w=e=>(e??[]).map(e=>(0,$.PU)(e)),T=e=>{let{creativeImages:{data:a}={data:[]},recommendations:t,sameArtist:i,sameModel:r}=e||{},s=(0,n.Er)({recommendations:t})||[],m=w(i?.results?.docs)||[],l=w(r?.results?.docs)||[],o=V(a?.[0]?.similarImages?.entities)||[],d=V(a?.[0]?.similarVideos?.entities)||[];return{personalizedImages:s,sameArtist:m,sameModel:l,visuallySimilar:o,visuallySimilarGenerated:V(a?.[0]?.similarGeneratedImages?.entities)||[],visuallySimilarVideos:d}};var E=t(279096),A=t(726325),R=t(936139),k=t(483010),x=t(727973),P=t(796955),z=t(647588),M=t(600538);let B=(0,z.NF)()?3e3:15e3,{publicRuntimeConfig:{_app:{name:L}}}=c()(),q={personalizedImages:[],sameArtist:[],sameModel:[],visuallySimilar:[],visuallySimilarGenerated:[],visuallySimilarVideos:[]},G=(e,a,t)=>{let i=e&&"object"==typeof e&&"response"in e?e?.response:void 0;if(i){let e=i?.errors||[],t=i?.extensions?.valueCompletion||[],r={message:i?.errors?.[0]?.message||"N/A"};e.forEach((e,a)=>{r[`error${a+1}`]=`${e.message}, Path: ${e.path?.join(".")||"N/A"}`}),t.forEach((e,a)=>{r[`valueCompletion${a+1}`]=`${e.message}, Path: ${e.path?.join(".")||"N/A"}`}),a({actionName:"FetchRelatedAssets - GraphQLError",customAttributes:r});let s=i?.data;if(s)return T(s)}if(e instanceof Error){if("AbortError"===e.name)return a({actionName:"FetchRelatedAssets - Timeout",customAttributes:{message:"Fetch request timed out",timeoutDuration:t}}),q;a({actionName:"FetchRelatedAssets - Error",customAttributes:{message:e.message||"unknown error occurred"}});let r=i?.data;if(r)return T(r)}return q},N=({asset:e,shouldFetch:a=!0})=>{let{region:t,locale:i}=(0,C.Y)(),{isGoodBot:s}=(0,I.l)(),{brand:n}=(0,A.P)(),m=(0,k.a)(),{type:l}=e||{},o=(0,x.h)(),{getSearchContext:d}=(0,E.J)(),{search_term:c}=d?.()||{},p=m?r.Zh:2*r.SE,u=(0,P.J)(),g=(0,F.H)(),y=(0,b.r)({asset:e,features:u,isUnlimitedExperience:g}),h=u?.subscriptions?.[0]?.product?.name,{formattedRequest:{requestHeaders:_,variables:f},query:$}=S({asset:e,brand:n,experiments:{},headers:{[v.E3]:`${L}/asset-details-page/related-assets`,[v.ef]:`${l}-related-assets`},isBot:s,isMobile:m,isLoggedInUser:!!u?.userType,locale:i,region:t,searchTerm:"undefined"===c?"":c,subscriptionProduct:h,topSimilarCount:p,isFilterByUnlimited:y}),U=(0,R.s)("/"),V=[$],w=s?15e3:B,z=async()=>{try{let e=new AbortController,a=setTimeout(()=>e.abort(),w),t=await U($,f,{headers:_,signal:e.signal});return clearTimeout(a),T(t)}catch(e){return G(e,o,w)}};return(0,M.I)({enabled:a,queryKey:V,queryFn:z})}},602320:(e,a,t)=>{t.d(a,{M:()=>n,u:()=>s});var i=t(307528),r=t(963535);let s=(e,a)=>{if(!e)return{};if(e.media){let{media:t}=e,{__typename:s}=t;if("CreativeImage"===s)return{...(0,i.PU)(t),...a?{meta:a}:{}};if("CreativeVideo"===s)return{...(0,r.PN)(t),...a?{meta:a}:{}}}return e.classicId?{id:e.classicId}:{}},n=(e,a)=>{if(!e||!e.similarImages)return{};let t=(0,i.PU)(e),r=e.similarImages?.entities?.map(e=>s(e,a))||[];return{...t,similarMedia:r}}},741695:(e,a,t)=>{t.d(a,{Q:()=>s});var i=t(66228),r=t(630888);let s=t.n(r)()(()=>Promise.all([t.e(27510),t.e(80015),t.e(72887),t.e(25842),t.e(78655)]).then(t.bind(t,288009)).then(e=>({default:e.RelatedSections})),{loadableGenerated:{webpack:()=>[288009]},loading:i.B})},744697:(e,a,t)=>{t.d(a,{Er:()=>u,aR:()=>c,g2:()=>p,x8:()=>o});var i=t(28071),r=t(326480),s=t(150298),n=t(98176),m=t(307528),l=t(200291);let o=["IN"],d=e=>{switch(e.toLowerCase()){case i.$E:return l.XJx.Illustration;case i.vo:return l.XJx.Photo;case i.kc:return l.XJx.Vector;default:return l.XJx.Photo}},c=({asset:e,isBot:a,isLoggedInUser:t,isMobile:r,region:s})=>{if(a)return!1;let n=[i.$E,i.kc,i.vo].includes(e?.imageType),m=!o.includes(s)&&!r;return n&&(t||m)},p=({asset:e,limit:a=n.hI,locale:t,region:i,searchTerm:s="",subscriptionProduct:m,isFilterByUnlimited:o=!1})=>{let{id:c,imageType:p=l.XJx.Photo}=e||{},u="undefined"===s?"":s,g=RegExp("^id:*").test(u);return{recommendationAnchors:{classicIds:[c],locale:t,mediaType:l.g9I.Image,...m?{subscriptionProduct:m}:{},...!g&&{text:u}},recommendationCountry:i,recommendationFilters:{channels:[l.Tmq.Shutterstock],imageType:d(p),mediaType:l.g9I.Image,...o&&{content:{tiers:r.dV}}},recommendationLimit:a,recommendationStrategy:l.xpr.Style}},u=({recommendations:e,withEligibleChannel:a})=>{let{response:t,internals:i}=e||{},{results:r,tracer:n}=t||{},{resultsCount:l}=i?.providers?.[0]||{};return r?.reduce((e,{media:t})=>{if(t?.__typename===s.Vi){let i={...(0,m.PU)(t,a),meta:{trackingId:n,totalCount:{images:l}}};e.push(i)}return e},[])||[]}},893995:(e,a,t)=>{t.r(a),t.d(a,{RelatedSectionsToUse:()=>d});var i=t(424629),r=t(741695),s=t(66228),n=t(985945),m=t(678540),l=t(381269),o=t(483010);let d=({asset:e,labels:a,isLocal:t,getSearchTermPathProps:d})=>{let c=(0,m.Uh)(e),{isGoodBot:p}=(0,n.l)(),u=(0,o.a)(),{data:g={},isLoading:y}=(0,l.G)({asset:e,shouldFetch:!p&&!c})||{},{sameModel:h=[],sameArtist:_=[],visuallySimilar:f=[],visuallySimilarVideos:S=[],visuallySimilarGenerated:v=[],personalizedImages:I=[]}=p?e:g,C=!u&&p;return y?(0,i.jsx)(s.B,{}):!c&&(y||c)?null:(0,i.jsx)(r.Q,{asset:e,gridSpacing:4,labels:a,personalizedImages:I,sameArtistAssets:_,sameModel:h,showSimilarVideos:!0,visuallySimilar:f,visuallySimilarMaxRows:2,visuallySimilarVideos:S,visuallySimilarGenerated:v,withInlineCta:!c,isLocal:t,useCssGrid:C,maxRows:C?null:2,getSearchTermPathProps:d,isCustomMobileGridWidth:!0})}},962912:(e,a,t)=>{t.d(a,{Ku:()=>n,Pr:()=>o,_3:()=>l});var i=t(28071),r=t(678540),s=t(543095);let n=(e,a)=>e?e.replace(/(ak\.(qa\.|dev\.|)picdn\.net|image\.(qa\.|dev\.|)shutterstock\.com|(picdn\.|cdn\.)(qa\.|dev\.|)shutterstock\.com|picdn\.(qa\.|dev\.|)shuttercorp\.net)/,a):e,m=(e,a,t=!0)=>{"object"==typeof e.displays&&Object.keys(e.displays).forEach(i=>{if(!e.displays[i].src)return;let r=e.displays[i].src.match(/^(?<before>.*)\/z\/(?<description>\S{0,})-(?<id>\d+).jpg$/);r&&(e.displays[i].src=`${r.groups.before}/shutterstock/photos/${r.groups.id}/display_1500/${r.groups.description}-${r.groups.id}.jpg`),t&&(e.displays[i].src=n(e.displays[i].src,a))}),t&&e.src&&(e.src=n(e.src,a))},l=(e,a,t=!0)=>{"object"==typeof e.previewVideoUrls&&Object.keys(e.previewVideoUrls).forEach(i=>{e.previewVideoUrls[i]&&t&&(e.previewVideoUrls[i]=n(e.previewVideoUrls[i],a))}),"object"==typeof e.thumbVideoUrls&&Object.keys(e.thumbVideoUrls).forEach(i=>{e.thumbVideoUrls[i]&&t&&(e.thumbVideoUrls[i]=n(e.thumbVideoUrls[i],a))}),"object"==typeof e.secureWatermarkUrl&&Object.keys(e.secureWatermarkUrl).forEach(i=>{e.secureWatermarkUrl[i]&&t&&(e.secureWatermarkUrl[i]=n(e.secureWatermarkUrl[i],a))}),e.previewImageUrl&&(t&&(e.previewImageUrl=n(e.previewImageUrl,a)),e.previewImageUrl=(0,s.nS)(e.previewImageUrl)),e.thumbImageUrl&&(t&&(e.thumbImageUrl=n(e.thumbImageUrl,a)),e.thumbImageUrl=(0,s.nS)(e.thumbImageUrl))},o=(e,a,t=!0)=>{let s=(0,r.f0)(e);s===i.W1&&m(e,a,t),s===i.G_&&l(e,a,t)}},963535:(e,a,t)=>{t.d(a,{PN:()=>g,yS:()=>y});var i=t(381532),r=t(28071),s=t(930726),n=t(962912),m=t(623523),l=t(51171);let{thumbsRewriteHostname:o}=(0,m.K)(),d={[i.TR]:i.TR,[i.SD]:i.SD,[i.HD]:i.HD,[i.c4]:i.hH},c=e=>e.map(e=>{let a=e.name,t=i.wP[a],r=t?.quality??0;return{...e,quality:r}}).sort((e,a)=>a.quality-e.quality),p=({sizes:e,originalSize:a})=>e.reduce((e,t)=>{let{height:r,width:s,fps:n,name:m,videoCodec:o,displayName:c,fileSize:p}=t,u=m===a.name,g=u?i.mx:o,y=d[m],h=`${m}_${g}`,_={[(0,l.C)(h)]:{height:r.pixels,width:s.pixels,fps:n.toString(),name:h,format:o,internalName:u?i.mx:y,resolution:y,displayName:c,fileSize:p}};return{...e,..._}},{}),u=({translatedDescriptions:e,defaultDescription:a})=>{let t={en:a};return e?.availableTranslatedDescriptions?.length?e.availableTranslatedDescriptions.reduce((e,a)=>{let{description:t,lang:i}=a||{};return t&&i?{...e,[i]:t}:e},t):t},g=(e,a)=>{(0,n._3)(e,o);let{addedDate:t,aspectRatio:i,channels:m,classicId:l,description:d,duration:g,previewImageUrl:y,keywords:h,secureWatermarkUrl:_,sellableVideoSizes:f,translatedDescriptions:S,contentTiers:v}=e,I=c(f)[0],C=p({sizes:f,originalSize:I}),b=u({translatedDescriptions:S,defaultDescription:d});return{src:"",height:null,isFootageSelect:m?.includes(s.hm.SELECT)||!1,isWithdrawn:!1,keywords:h,width:null,id:l,type:r.BI,description:d,descriptionLanguageMap:b,duration:g,aspectRatioCommon:i,previewImageUrl:y,previewVideoUrls:_,thumbImageUrl:y,sizes:C,uploadedDate:t,channels:m,...a&&{meta:a},...v?.length&&{contentTiers:v}}},y=e=>{let{response:a,internals:t}=e?.recommendations||{},{results:i,tracer:r}=a||{},{resultsCount:s}=t?.providers[0]||{};return i?.reduce((e,{media:a})=>{if(a?.__typename==="CreativeVideo"){let t=g(a,{trackingId:r,totalCount:{videos:s}});e.push(t)}return e},[])||[]}},996786:(e,a,t)=>{t.d(a,{r:()=>n});var i=t(678540),r=t(28071);let s=(e,a)=>{let t=e?.isActiveFlexUser,i=e?.isActiveCreditPackUser;if(t||i)return!0;switch(a){case r.W1:return e?.isActiveImageSubUser||e?.isActiveImagePackUser;case r.G_:return!!e?.isActiveVideoPlanUser;case r.on:case r.M9:return!!e?.isActiveMusicPlanUser;default:return!1}},n=({asset:e,features:a,bypassAssetCheck:t,assetType:r,isUnlimitedExperience:n})=>{let m=t||(0,i.sY)(e),l=s(a,e?(0,i.f0)(e):r),o=!!a?.isUserWithActiveBasicUnlimitedPlan,d=!a?.userId||a?.isFBA||a?.isLapsedAccount;return!!((o&&!l||d&&n)&&m)}}}]);
//# sourceMappingURL=93995.c969ec883338189b.js.map